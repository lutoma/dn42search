{% extends 'base.html' %}
{% load i18n %}
{% load static %}

{% block content %}
	<div class="container search-results">
		<a href="/"><h1>search.dn42</h1></a>

		<form type="GET" action="/search">
			<input type="text" name="q" placeholder="Search query" value="{{ query }}" class="form-control" id="query">
			<button class="btn btn-primary" type="submit">Search</button>
		</form>

		{% if error %}<p class="mt-3">{{ error }}</p>{% endif %}

		<p class="small results-count">{{ results_count }} results</p>

		<div class="results">
			{% for result in results %}
				<div class="result">
					<small class="text-muted"><a href="{{ result.url }}" rel="nofollow noopener" target="_blank" class="text-muted">{{ result.url }}</a> - Size: {{ result.size }} / Last indexed: {{ result.last_indexed }}</small>
					<h5><a href="{{ result.url }}" rel="nofollow noopener" target="_blank">
						{% if result.title %}
							{{ result.title }}
						{% else %}
							<em>No page title</em>
						{% endif %}
					</a></h5>
					{% if result.excerpt %}<p class="excerpt">{{ result.excerpt }}</p>{% endif %}
				</div>
			{% endfor %}
		</div>
	</div>
{% endblock %}
